<div class="container mt-4">
  <h2 class="text-pink mb-3">‚úè Edit Wedding Card</h2>

  <!-- Loading Spinner -->
  <div *ngIf="loading" class="text-center">
    <div class="spinner-border text-pink" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Form -->
  <form *ngIf="!loading" (ngSubmit)="onUpdateCard()" #cardForm="ngForm">
    <div class="mb-3">
      <label class="form-label">Card Name</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="cardData.name"
        name="name"
        required
      />
    </div>

    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea
        class="form-control"
        [(ngModel)]="cardData.description"
        name="description"
      ></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Price</label>
      <input
        type="number"
        class="form-control"
        [(ngModel)]="cardData.price"
        name="price"
        required
      />
    </div>

    <!-- Image Upload -->
    <div class="mb-3">
      <label class="form-label">Upload Image</label>
      <input
        type="file"
        class="form-control"
        (change)="onFileSelected($event)"
        accept="image/*"
      />
    </div>

    <!-- Image Preview -->
    <div class="mb-3">
      <img
        *ngIf="previewImageUrl"
        [src]="previewImageUrl"
        class="img-fluid rounded shadow"
        style="max-width: 200px"
        alt="Image Preview"
      />
      <img
        *ngIf="!previewImageUrl && cardData.imageUrl"
        [src]="cardData.imageUrl"
        class="img-fluid rounded shadow"
        style="max-width: 200px"
        alt="Existing Card Image"
      />
    </div>

    <button type="submit" class="btn btn-outline-info" [disabled]="cardForm.invalid">
      Update Card
    </button>
  </form>
</div>
