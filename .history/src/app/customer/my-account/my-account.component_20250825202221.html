<div class="container py-5 mt-4">
  <div class="card shadow-lg p-4 rounded-4">
    <h3 class="text-center text-primary fw-bold mb-4">My Account</h3>

    <!-- Tabs -->
    <ul class="nav nav-tabs mb-4">
      <li class="nav-item">
        <a class="nav-link" [class.active]="activeTab === 'profile'" (click)="activeTab = 'profile'">
          Profile
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [class.active]="activeTab === 'orders'" (click)="activeTab = 'orders'">
          Orders
        </a>
      </li>
    </ul>

    <!-- âœ… Profile Tab -->
    <div *ngIf="activeTab === 'profile'">
      <form (ngSubmit)="updateSettings()">
        <div class="mb-3">
          <label class="form-label">Name</label>
          <input type="text" [(ngModel)]="user.name" name="name" class="form-control" />
        </div>

        <div class="mb-3">
          <label class="form-label">Email (readonly)</label>
          <input type="text" [value]="user.email" class="form-control" readonly />
        </div>

        <div class="mb-3">
          <label class="form-label">Address</label>
          <input type="text" [(ngModel)]="user.address" name="address" class="form-control" />
        </div>

        <div class="mb-3">
          <label class="form-label">Phone</label>
          <input type="text" [(ngModel)]="user.phone" name="phone" class="form-control" />
        </div>

        <p><strong>Joined:</strong> {{ formattedDate }}</p>

        <button class="btn btn-success w-100">Update Profile</button>
      </form>

      <button class="btn btn-danger w-100 mt-3" (click)="logout()">Logout</button>
    </div>

    <!-- âœ… Orders Tab -->
    <div *ngIf="activeTab === 'orders'">
      <h5 class="fw-bold mb-3">My Orders</h5>
      <div *ngIf="orders.length === 0" class="text-center text-muted">
        No orders found ðŸ˜”
      </div>

      <div *ngFor="let order of orders" class="border rounded p-3 mb-2">
        <p><strong>Order ID:</strong> {{ order.id }}</p>
        <p><strong>Total:</strong> â‚¹{{ order.total }}</p>
        <p><strong>Status:</strong> {{ order.status }}</p>
        <p><strong>Date:</strong> {{ order.createdAt?.toDate() | date:'medium' }}</p>
      </div>
    </div>
  </div>
</div>
